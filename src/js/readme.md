# 关于减字谱的基本定义
- 减字符号：由一个或多个汉字简化而来的符号，譬如大指、食指、勾、剔、滚拂、如一声、等的减字符号，可以用一个SVG文件表示。
- 减字谱字：由若干个减字符号组合在一起的一个新的符号。譬如散勾三的减字。由多个SVG按照一定的规则组合在一起。
- 减字谱：由一系列的减字谱字排列而成的完整琴谱。譬如酒狂减字谱。
- 读法：减字符号的读法就是它的所指，是汉语中的一个词，减字谱字的读法是减字符号的读法按规则组合而成的汉语短语。
从语言学的角度看，总的来说，减字符号相当于语素范畴，减字谱字相当于词以上范畴，减字谱对应于篇章范畴。当然我们这里的范畴不是汉语而是作为汉语的一个子集即减字谱语言的范畴。
在分析时，我们借助减字谱的读法在汉语中的语法、语义结构定义减字谱的语法、语义结构。

# 减字谱语法理解：
以下语法规则用EBNF格式撰写。

<谱字> = <简单式> | <复合式> | <旁注式> | <独体式>

<简单式> = <徽位指法短语> <特殊指法>? <弦序指法短语>
<徽位指法短语> = <非散音指法短语> | "散音"
<非散音指法短语> = <徽位指法> <徽分位置>
<特殊指法> = "注" | "绰"
<弦序指法短语> = <弦序指法> <弦序>

<徽位指法> = "大指" | "食指" | "中指" | "名指" | "跪指"
<徽分位置> = <徽数> <分数>?
<徽数> = "十一徽" | "十二徽" | "十三徽" | "一徽" | "二徽" | "三徽" | "四徽" | "五徽" | "六徽" | "七徽" | "八徽" | "九徽" | "十徽" | "徽外"
<分数> = "一分" | "二分" | "三分" | "四分" | "五分" | "六分" | "七分" | "八分" | "九分" | "半"

<弦序指法> = "如一声" | "抹挑" | "勾剔" | "打摘" | "托擘" | "半轮" | "长琐" | "如一" | "滚拂" | "全扶" | "剌伏" | "打圆" | "搯起" | "抓起" | "带起" | "虚掩" | "推出" | "不动" | "擘" | "托" | "抹" | "挑" | "勾" | "剔" | "打" | "摘" | "历" | "蠲" | "轮" | "琐" | "伏" | "滚" | "拂" | "至" | "拨" | "剌" | "掩"
<弦序> = "一弦" | "二弦" | "三弦" | "四弦" | "五弦" | "六弦" | "七弦"

<复合式> = <复式指法> <复子式> <复子式>
<复式指法> = "掐撮" | "双弹" | "拨剌" | "齐撮" | "撮"
<复子式> = <徽位指法短语> <特殊指法>? <弦序指法>? <弦序>. #掐撮大指七徽注勾三弦

<旁注式> = <修饰词> | <走位指法短语> | (<修饰词> <走位指法短语>)
<修饰词> = "引" | "淌" | "急" | "缓" | "紧" | "慢"
<走位指法短语> = <走位指法> <徽分位置>?  
<走位指法> = "进复" | "退复" | "往来" | "上" | "下" | "进" | "退" | "复" | "撞" | "逗" | "唤" | "吟" | "猱"

<独体式> = <记号>
<记号> = "从再作" | "从头再作" | "少息" | "大息" | "入拍" | "入慢" | "句号" | "再作" | "曲终" | "操终" | "泛起" | "泛止" | "间"



# 方案构建

## 输入解析过程
AST（Abstract Syntax Tree，抽象语法树） 是一种用于表示程序源代码语法结构的树形数据结构。它是编译器、解释器、静态分析工具等的重要组成部分。与**具体语法树（Concrete Syntax Tree, CST）**不同，AST 只关注程序的核心逻辑结构，而忽略了一些细节（如括号、分号等）。

以下是关于 AST 的详细介绍：

1. AST 的定义

AST 是源代码的一种抽象表示形式，它以树形结构展示程序的语法结构。每个节点表示程序中的一个语法单元（如表达式、语句、函数等），而节点之间的关系通过树的父子关系表示。

1.1 与具体语法树（CST）的区别

具体语法树（CST）：包含源代码的所有细节，例如括号、分号、空格等。CST 是源代码的直接映射。
抽象语法树（AST）：只保留程序的核心逻辑结构，忽略不必要的细节（如括号、分号等）。AST 是编译器或解释器进一步处理的基础。
1.2 AST 的特点

抽象性：只关注程序的逻辑结构，忽略语法细节。
层次性：树形结构清晰地展示程序的层次关系。
递归性：支持递归结构（如嵌套的表达式或语句）。
2. AST 的结构

AST 的节点通常分为两类：

内部节点：表示语法结构（如表达式、语句、函数等）。
叶节点：表示具体的值或符号（如变量名、常量、操作符等）。
2.1 常见节点类型

表达式节点：表示算术表达式、逻辑表达式等。
例如：a + b、x > 10。
语句节点：表示程序语句，如赋值语句、条件语句、循环语句等。
例如：if (x > 10) { ... }、for (i = 0; i < 10; i++) { ... }。
声明节点：表示变量声明、函数声明等。
例如：int a = 10、function foo() { ... }。
操作符节点：表示操作符（如 +、-、*、/ 等）。
值节点：表示常量或变量值（如 10、"hello"、x）。
2.2 示例

以下是一个简单的代码片段及其对应的 AST：

代码片段

python
Copy
a = 10
b = a + 5
对应的 AST

Copy
        Program
          |
    StatementList
      /       \
  Assignment  Assignment
    /           /   \
  a (ID)      b (ID)  BinaryExpression
              10 (Literal)  /         \
                          a (ID)   5 (Literal)
3. AST 的构建过程

AST 的构建通常分为两个阶段：

词法分析（Lexical Analysis）：将源代码分解为一系列的词法单元（Token），例如关键字、标识符、操作符等。
语法分析（Syntax Analysis）：根据语法规则，将词法单元组合成语法结构，并构建 AST。
3.1 词法分析

词法分析器（Lexer）将源代码转换为 Token 流。例如：

代码：a = 10 + 5
Token 流：[ID(a), EQUALS, NUMBER(10), PLUS, NUMBER(5)]
3.2 语法分析

语法分析器（Parser）根据语法规则，将 Token 流转换为 AST。例如：

语法规则：Assignment → ID EQUALS Expression
生成的 AST：
Copy
Assignment
  /   |   \
a (ID)  =  BinaryExpression
            /         \
        10 (Literal) 5 (Literal)


        